!function(){"use strict";angular.module("greenspotStall",["ngMaterial","ngMessages"]).config(["$locationProvider","$mdThemingProvider","$mdIconProvider",function(t,i,o){i.theme("default").primaryPalette("teal").accentPalette("lime"),o.defaultIconSet("~/static/img/icon/core-icons.svg",24),t.html5Mode(!0)}])}(),function(){"use strict";function t(t,i){var o=this;o.init=function(){o.cart.loadFromCookie(),console.log(o.cart)},o.gotoUrl=function(t){console.log(t),window.location.href=t},o.cart={stls:[],qty:0,amt:0,add:function(t){console.log(t),this.qty++,this.amt+=t.price;var i=!1,o=!1;if($.each(this.stls,function(e,n){return n.i==t.stallId&&(i=n,$.each(n.itms,function(i,e){return e.i==t.id?(e.q++,n.amt+=t.price,o=!0,!1):void 0}),o)?!1:void 0}),i)o||(i.amt+=t.price,i.itms.push({i:t.id,n:t.name,v:t.variant,q:1,p:t.price}));else{var e={i:t.stallId,n:t.stallName,amt:t.price,itms:[]};e.itms.push({i:t.id,n:t.name,v:t.variant,q:1,p:t.price}),this.stls.push(e)}this.writeToCookie(),console.log("this is:",this)},empty:function(){this.stls=[],this.qty=0,this.amt=0,Cookies.remove("cart")},remove:function(t){var i=null,e=-1;$.each(this.stls,function(n,s){$.each(s.itms,function(n,a){return a.i==t?(o.cart.qty-=a.q,o.cart.amt-=a.p*a.q,s.amt-=a.p*a.q,e=s.itms.indexOf(a),e>-1&&(s.itms.splice(e,1),i=s),!1):void 0})}),i&&0==i.itms.length&&(e=this.stls.indexOf(i),e>-1&&this.stls.splice(e,1)),this.writeToCookie()},plusOne:function(t){$.each(this.stls,function(i,e){$.each(e.itms,function(i,n){n.i==t&&n.q<99&&(n.q++,o.cart.qty++,o.cart.amt+=n.p,e.amt+=n.p)})}),this.writeToCookie()},minusOne:function(t){$.each(this.stls,function(i,e){$.each(e.itms,function(i,n){n.i==t&&n.q>0&&(n.q--,o.cart.qty--,o.cart.amt-=n.p,e.amt-=n.p)})}),this.writeToCookie()},loadFromCookie:function(){var t=Cookies.get("cart");if(t){var i=$.parseJSON(t);this.stls=i.stls,this.qty=i.qty,this.amt=i.amt}},writeToCookie:function(){Cookies.set("cart",this,{expires:14})}}}var i=angular.module("greenspotStall");i.controller("MainController",t),t.$inject=["$http","$location"]}(),function(){"use strict";function t(t,i){var o=this;o.SubmitInfo=function(){t.post("~/owner/Register",this.OwnerInfo).success(function(t){t.Succeeded?window.location.href=t.Data:console.log(t.Message)}).error(function(t){console.log(t)})}}var i=angular.module("greenspotStall");i.controller("OwnerRegisterController",t),t.$inject=["$http","$location"]}();